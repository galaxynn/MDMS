- - 好的，我将按照您的要求，将电影资料库管理系统 (MDMS) 的逻辑结构设计中的所有字段名替换为中文，并保持与之前请求一致的格式和严谨性。
  
    ------
  
    
  
    ### 四）逻辑结构设计 (使用中文字段名)
  
    
  
    
  
    ### 4.1 转换为关系数据模型
  
    
  
    基于系统整体 E-R 图，转换为以下关系模型：
  
    - **Users (用户表):** `用户ID` (PK), `用户名`, `邮箱`, `加密密码`, `用户角色`, `注册时间`。
    - **People (参与人表):** `参与人ID` (PK), `姓名`, `简介`, `出生日期`, `照片链接`。
    - **Genres (类型表):** `类型ID` (PK), `类型名称`。
    - **Movies (电影表):** `电影ID` (PK), `电影标题`, `剧情简介`, `上映日期`, `电影时长（分钟）`, `制片国家/地区`, `电影语言`, `海报链接`, `平均分`, `评分人数`。
    - **Reviews (影评表):** `影评ID` (PK), `电影ID` (FK), `用户ID` (FK), `评分`, `评论内容`, `创建时间`。
      - *(注：复合唯一约束为 `{用户ID, 电影ID}`)*
    - **Movie_Genres (电影-类型 连接表):** `电影ID` (FK), `类型ID` (FK)。
      - *(注：复合主键为 `{电影ID, 类型ID}`)*
    - **Movie_Crew (电影-参与人 连接表):** `记录ID` (PK), `电影ID` (FK), `参与人ID` (FK), `职责`, `角色名`。
  
    
  
    ### 4.2 关系模式的优化
  
    
  
    对关系模型进行规范化分析，确保所有关系模式达到 Boyce-Codd 范式 (BCNF)。
  
    **1. Users (用户表)**
  
    - **主键 (Key):** `{用户ID}`
    - **候选键 (Candidate Keys):** `{用户ID}`, `{用户名}`, `{邮箱}`
    - **函数依赖集 (FDs):**
      - `{用户ID} -> {用户名, 邮箱, 加密密码, 用户角色, 注册时间}`
      - `{用户名} -> {用户ID, 邮箱, 加密密码, 用户角色, 注册时间}`
      - `{邮箱} -> {用户ID, 用户名, 加密密码, 用户角色, 注册时间}`
    - **范式分析:** 所有决定因素（FD 的左侧）都是候选键。
    - **结论：Users 关系模式已达到 BCNF。**
  
    **2. People (参与人表)**
  
    - **主键 (Key):** `{参与人ID}`
    - **函数依赖集 (FDs):** `{参与人ID} -> {姓名, 简介, 出生日期, 照片链接}`
    - **范式分析:** 唯一决定因素是主键。
    - **结论：People 关系模式已达到 BCNF。**
  
    **3. Genres (类型表)**
  
    - **主键 (Key):** `{类型ID}`
    - **候选键 (Candidate Keys):** `{类型ID}`, `{类型名称}`
    - **函数依赖集 (FDs):**
      - `{类型ID} -> {类型名称}`
      - `{类型名称} -> {类型ID}`
    - **范式分析:** 所有决定因素都是候选键。
    - **结论：Genres 关系模式已达到 BCNF。**
  
    **4. Movies (电影表)**
  
    - **主键 (Key):** `{电影ID}`
    - **函数依赖集 (FDs):** `{电影ID} -> {电影标题, 剧情简介, 上映日期, ..., 平均分, 评分人数}`
    - **范式分析:** 所有属性都完全函数依赖于主键。`平均分`和`评分人数`的冗余存储不影响其 BCNF 状态，因为它们仍由 `电影ID` 唯一决定。
    - **结论：Movies 关系模式已达到 BCNF。**
  
    **5. Reviews (影评表)**
  
    - **主键 (Key):** `{影评ID}`
    - **候选键 (Candidate Keys):** `{影评ID}`, `{用户ID, 电影ID}`
    - **函数依赖集 (FDs):**
      - `{影评ID} -> {电影ID, 用户ID, 评分, 评论内容, 创建时间}`
      - `{用户ID, 电影ID} -> {影评ID, 评分, 评论内容, 创建时间}`
    - **范式分析:** 所有非键属性都完全函数依赖于所有候选键。
    - **结论：Reviews 关系模式已达到 BCNF。**
  
    **6. Movie_Genres (电影-类型 连接表)**
  
    - **主键 (Key):** `{电影ID, 类型ID}`
    - **函数依赖集 (FDs):** (无非键属性)
    - **范式分析:** 仅包含复合主键属性。
    - **结论：Movie_Genres 关系模式已达到 BCNF。**
  
    **7. Movie_Crew (电影-参与人 连接表)**
  
    - **主键 (Key):** `{记录ID}`
    - **函数依赖集 (FDs):** `{记录ID} -> {电影ID, 参与人ID, 职责, 角色名}`
    - **范式分析:** 所有属性都完全函数依赖于唯一的主键。
    - **结论：Movie_Crew 关系模式已达到 BCNF。**
  
    **总结：** 所有关系模式均满足 BCNF。
  
    
  
    ### 4.3 视图设计
  
    
  
    基于系统的访问控制需求和数据访问特点，设计以下必要视图：
  
    **1. 视图名称：`V_电影详情` (V_Movie_Details)**
  
    - **目的：** 简化前端获取电影详情页的查询，封装多表连接逻辑。
    - **视图包含的属性：**
      - `电影ID`
      - `电影标题`
      - `剧情简介`
      - `上映日期`
      - `电影时长（分钟）`
      - `平均分`
      - `评分人数`
      - `类型列表` (聚合后的类型名称字符串)
      - `导演列表` (聚合后的导演姓名字符串)
      - `主演列表` (聚合后的主要演员姓名字符串)
  
    **2. 视图名称：`V_公开影评` (V_Public_Reviews)**
  
    - **目的：** 提供一个安全的、用于公开展示影评的视图，同时屏蔽用户敏感信息。
    - **视图包含的属性：**
      - `影评ID`
      - `电影ID`
      - `电影标题` (来自 `Movies` 表)
      - `用户ID`
      - `用户名` (来自 `Users` 表，仅暴露非敏感信息)
      - `评分`
      - `评论内容`
      - `创建时间`
  
    **3. 视图名称：`V_参与人作品年表` (V_Person_Filmography)**
  
    - **目的：** 简化构建特定演职人员作品列表的查询。
    - **视图包含的属性：**
      - `参与人ID`
      - `姓名` (来自 `People` 表)
      - `电影ID`
      - `电影标题` (来自 `Movies` 表)
      - `上映日期` (用于按时间排序)
      - `职责` (来自 `Movie_Crew` 表，如 'Director', 'Actor')
      - `角色名` (来自 `Movie_Crew` 表)
  
    **4. 视图名称：`V_用户管理概览` (V_User_Audit)**
  
    - **目的：** 专为管理员后台设计，用于查看用户列表和管理权限，确保**不暴露**加密密码。
    - **安全性：** 显式排除了 `加密密码` 字段。
    - **视图包含的属性：**
      - `用户ID`
      - `用户名`
      - `邮箱`
      - `用户角色`
      - `注册时间`
      - `影评总数` (可选：该用户发布的评论数量)